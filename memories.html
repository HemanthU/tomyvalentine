<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Our Memories ❤️</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:sans-serif;}

body{
height:100vh;
background:linear-gradient(135deg,#ffc3a0,#ffafbd);
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
color:white;
text-align:center;
overflow:hidden;
}

/* animation stage */
#stage{
width:100%;
display:flex;
justify-content:center;
align-items:center;
flex-direction:column;
}

/* POLAROID */
.polaroid{
width:240px;
height:300px;
background:white;
color:black;
border-radius:14px;
padding:12px;
box-shadow:0 18px 45px rgba(0,0,0,0.35);
display:flex;
flex-direction:column;
align-items:center;
opacity:0;
transform:translateX(120px);
transition:all 0.8s ease;
}

.polaroid img{
width:100%;
height:180px;
object-fit:cover;
border-radius:8px;
opacity:0;
transition:opacity 0.6s;
}

.caption{
margin-top:14px;
font-size:1.1rem;
font-weight:500;
text-align:center;
}

/* states */
.show{opacity:1;transform:translateX(0);}
.showimg img{opacity:1;}
.hide{opacity:0;transform:translateX(-120px);}

/* FINAL GRID */
.grid{
display:grid;
grid-template-columns:1fr 1fr;
gap:20px;
margin-top:10px;
}

.final{
margin-top:25px;
font-size:1.5rem;
font-weight:600;
opacity:0;
transition:opacity 1.5s;
max-width:360px;
text-align:center;
line-height:1.6;
}
</style>
</head>

<body>

<audio id="memoryMusic" src="memory.mp3" loop></audio>

<div id="stage"></div>

<div class="final" id="finalText">
Will you be here for this next year… and every year after? ❤️
</div>

<script>
const music=document.getElementById('memoryMusic');
music.play().catch(()=>{});

/* create polaroid */
function createPolaroid(src,text){
  let p=document.createElement('div');
  p.className='polaroid';
  p.innerHTML=`<img src="${src}"><div class="caption">${text}</div>`;
  return p;
}

const memories=[
["photo1.jpg","The first smile I fell for"],
["photo2.jpg","Moments that felt like home"],
["photo3.jpg","Us, just being us"],
["photo4.jpg","My favorite memory"]
];

const stage=document.getElementById('stage');

/* CINEMATIC SEQUENCE */
function playSequence(i){

  if(i>=memories.length){
    showFinalGrid();
    return;
  }

  let pol=createPolaroid(memories[i][0],memories[i][1]);
  stage.innerHTML="";
  stage.appendChild(pol);

  setTimeout(()=>pol.classList.add('show'),200);
  setTimeout(()=>pol.classList.add('showimg'),900);
  setTimeout(()=>pol.classList.add('hide'),4200);

  setTimeout(()=>playSequence(i+1),4800);
}

playSequence(0);

/* FINAL GRID */
function showFinalGrid(){

  stage.innerHTML="";
  stage.className="grid";

  memories.forEach(m=>{
    let pol=createPolaroid(m[0],m[1]);
    pol.classList.add('show');
    pol.querySelector("img").style.opacity=1;
    stage.appendChild(pol);
  });

  document.getElementById('finalText').style.opacity=1;
}
</script>

</body>
</html>
